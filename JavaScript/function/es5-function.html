<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
</head>

<body>
  <div></div>
  <script>
    // 三种声明函数的方法
    // function命令
    function print(s) {
      console.log(s);
    }

    // 函数表达式，采用变量赋值
    // 采用函数表达式声明函数时，function命令后面不带有函数名
    let print = function (s) {
      console.log(s);
    };

    let print = (s) => {
      console.log(s);
    };

    // 如果加上函数名，该函数名只在函数体内部有效，在函数体外部无效
    let print = function x(s) {
      console.log(s);
    };

    x;
    print();

    // 这种写法的用处有两个
    // 一是可以在函数体内部调用自身
    // 二是方便除错（除错工具显示函数调用栈时，将显示函数名，而不再显示这里是一个匿名函数）
    // 因此，下面的形式声明函数也非常常见
    let print = function f() { };

    // function构造函数
    // 非常不直观，基本不使用

    // 将函数作为参数和返回值
    function add(x, y) {
      return x + y;
    }

    function a(op) {
      return op;
    }

    a(add)(1, 1)
    //2

    //函数内部可以读取全局变量
    var v = 1;
    function f() {
      console.log(v);
    }
    f();
    //1

    //函数内部定义的变量,外部无法读取
    function f() {
      var v = 1;
    }
    console.log(v);
    // ReferenceError: v is not defined

    // 函数内部定义的变量,会在作用域内覆盖同名全局变量
    var v = 1;
    function f() {
      var v = 2;
      console.log(v);
    }

    f();// 2
    v;// 1

    // 对于var命令,局部变量只能在函数内部声明
    // 除此之外,在其它区块声明,一律是全局变量
    if (true) {
      var x = 5;
    }
    console.log(x);
  </script>
</body>

</html>